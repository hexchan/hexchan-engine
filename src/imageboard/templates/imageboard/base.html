{% load static %}
{% load i18n %}
{% get_current_language as LANGUAGE_CODE %}
{% load settings_value %}


<!doctype html>
<html lang="{{ LANGUAGE_CODE }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#555">

    <title>{% block page_title %}{% settings_value 'SITE_NAME' %}{% endblock %}</title>

    <link rel="icon" href="{% settings_value 'FAVICON_URL' %}">
    <link rel="stylesheet" href="{% static 'imageboard/style.css' %}">

    {# Lightbox #}
    <link rel="stylesheet" href="{% static "imageboard/libs/lightbox/css/lightbox.css" %}">
    {% block page_style %}{% endblock %}
</head>
<body>
    {% block main %}
        <div class="app" id="app">
            <div class="app__header">
                {% block header %}{% endblock%}
            </div>

            <div class="app__content js-content">
                {% block content %}{% endblock%}
            </div>

            <div class="app__footer">
                {% block footer %}{% endblock%}
            </div>

            {% if request.user.is_superuser %}
                <a href="{% url 'admin:index' %}" class="app__admin">admin</a>
            {% endif %}
        </div>
    {% endblock %}

    <div id="templates">
        {% include 'imageboard/parts/js_templates.html' %}
        {% block js_templates %}{% endblock %}
    </div>

    <div id="scripts">
        {# Lightbox #}
        <script src="{% static "imageboard/libs/jquery/jquery.min.js" %}"></script>
        <script src="{% static "imageboard/libs/lightbox/js/lightbox.min.js" %}"></script>
        <script>
            // Lightbox config
            var lb = lightbox.option({
                resizeDuration: 300,
                fadeDuration: 300,
                imageFadeDuration: 300,
            });
        </script>

        {# Project scripts #}
        <script src="{% static "imageboard/hexchan.js" %}"></script>

        {# Page scripts #}
        {% block page_script %}{% endblock %}
    </div>

    <div id="metadata">
        {% block metadata %}{% endblock %}
    </div>
</body>
</html>
